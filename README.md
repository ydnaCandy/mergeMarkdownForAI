# mergeMarkdownForAI

生成AI（NotebookLMやChatGPT, Claude等）にプロジェクトのコンテキストを効率よく渡すための、Markdownマージ用シェルスクリプトです。

## 主な特徴

- 指定ディレクトリ単位のマージ: スクリプト実行時に引数で指定したディレクトリの「直下にある各フォルダ」を一つの単位としてマージします。
- 再帰的探索: 各フォルダ内にあるサブディレクトリのMDファイルもすべて漏らさず取得します。
- 文字数制限（2万文字）: 1ファイルが大きくなりすぎないよう、2万文字を目安に自動で分割連番（_1.md, _2.md）を出力します。
- ソース情報の追記: 各セクションの末尾に元のファイルパスを自動挿入するため、AIが情報の出所を正確に把握できます。
- 柔軟な除外設定: .git や README.md など、マージ対象から除外したいパスは ignore-list.txt で一元管理できます。

## 仕様詳細

| 項目 | 内容 |
| :--- | :--- |
| 対象ファイル | 指定ディレクトリ配下の .md ファイルすべて |
| マージ単位 | 指定ディレクトリ直下のディレクトリごと（直下のファイルは個別に処理） |
| 除外ルール | ignore-list.txt に記載された文字列を含むパスをすべて除外 |
| 出力先 | ./ai_docs/ フォルダ（自動生成） |
| 分割ルール | 合計が 20,000文字 を超える場合、ファイル単位で区切って連番化 |
| メタ情報 | 各マージセクションの末尾に ## マージ元のファイルパス を挿入 |

## 使い方

### 1. 準備
実行権限を付与し、除外したいファイル・ディレクトリを ignore-list.txt に記述します。

```bash
chmod +x merge_md.sh

# ignore-list.txt の例
.git
README.md
node_modules
```

### 2. 実行
マージしたいディレクトリを引数に渡して実行します。

```bash
./Scripts/merge_md.sh ./your_project_dir
```

### 3. 出力の確認
ai_docs/ フォルダの中に、マージされたファイル群が生成されます。

- directory_name_1.md
- directory_name_2.md
- root_file_name.md（指定ディレクトリ直下のファイルの場合）

## マージ後の内部構造イメージ

```markdown
（ファイル本来の内容）

## マージ元のファイルパス
./your_project_dir/folder/example.md
```